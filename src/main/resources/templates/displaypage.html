<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link th:href="@{/css/displaypage.css}" rel="stylesheet" type="text/css">
    <title>Main Page</title>
</head>

<body>
    <a th:href="Login"><button style="float: right;" class="Logout">Logout</button></a>
    <h1 style="text-align:center;"><span th:text = ${todolist.userId}></span>'s To-Do List</h1>
    <h2>Add New Task</h2>
      <form
        action="#"
        th:action="@{/ToDoList}"
        th:object="${todolist}"
        method="post">

        <p>
            Description: 
            <input type="text" th:field="*{description}">
            
            <span>
              <button class="Add" type="submit">Add</button>
            </span>
        </p>
           
      </form>  
      
    <div th:object="${itemlist}">
      <table style="width:80%" class="center">
        <tr>
          <th>Task</th>
          <th>Description</th>
          <th>Date Created</th>
          <th>Task Completed?</th>
          
        </tr>
        <tr style="text-align:center;"
          th:each=" toDos, iterStat : ${alluseritems}" th:value="${alluseritems[iterStat.index]}">
          
          <form
            action="#"
            th:action="@{/NewPage}"
            th:object="${todolist}"
            method="post">

          <td th:text="${iterStat.index} + 1"></td>
          <td th:text="${toDos.description}"></td>
          <td th:text="${toDos.dateCreated}"></td>
          <!-- <td><input type="submit" value="Yes"></td> -->
          <td>
            <input type = "hidden" th:value="${toDos.description}" name="description">
            <input type = "hidden" th:value="${toDos.dateCreated}" name="dateCreated">
            <input type = "hidden" th:value="${iterStat.index}" name="index">
            <button class="Done" type="submit">Yes</button>
          </td>
          </form>
        </tr>
      </table>
      
    
    </div>
</body>
</html>
